<!DOCTYPE html>
<html lang="en" >
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="A brief page description">
    <meta name="keywords" content="html,cheatsheet" />
   
    

    <link rel="stylesheet" href="css/font-awesome-4.7.0/css/font-awesome.min.css">
	<title>Cracking Shadow</title>
	<link rel="stylesheet" href="css/mainstyle.css">
	<link rel="stylesheet" href="css/loginpopup.css">
	<script  type="text/javascript" src="script/jquery-3.3.1.min.js"></script>
	<script type="text/javascript" src="script/newsletter.js"></script>
	<script type="text/javascript" src="script/sidenav.js"></script>
	<script type="text/javascript" src="script/signinpopup.js"></script>
	<link rel="stylesheet" type="text/css" href="css/article.css">
</head>
<body>
	<div id="main">

		<header id="header" >


			<!-- top header -->
             <div id="top-intro">
             	
	             	<img src="images/logo.png" alt="">

	             	<div id="site-name">
		             	<h1>
		             		<a href="index.html">Dynamic Bytes</a>
		             	</h1>	             		
	             	</div>

				

             </div>
            <!-- nav login / sigup  -->
			<nav >
				<ul>
				  
				  <li><a href="register.html">Register</a></li>
				  <li>
				  	<a href="#home" onclick="document.getElementById('signin').style.display='block'" style="width:auto;">Login</a>
				  </li>
				  <li><a href="about.html">About</a></li>
				  <li id="sidebarbtn"><span onclick="openNav()">&#9776;</span></li>
				</ul>
			</nav>
	           <!-- main top nav -->
				<div id="topnavlinks">
						<ul>

							<li><a><span onclick="openNav()"><img src="images/index.png" alt=""></span></a></li>
							<li><a href="">Forum</a></li>
					        <li><a href="">Metasploit Basics</a></li>
					        <li><a href="facebookhacks.html">Facebook Hacks</a></li>
					        <li><a href="passwordcracking.html">Password Cracking</a></li>
					        <li><a href="wifihacking.html">Wi-Fi Hacking</a></li>
					        <li><a href="pythonbruteforce.html">Linux Basics</a></li>
					        <li><a href="wifijamming.html">Wifi Jamming</a></li>
					        <li><a href="trackwifi.html">Track Wifi</a></li>
					        <li><a href="crackshadow.html">Crack Shadow</a></li>
					        <li><a href="autobrute.html">Brute Force</a></li>

				        </ul>        
                </div>
                <!-- sidebar nav -->

                <div id="mySidenav" class="sidenav">
				  <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
				  <a href="#home" onclick="document.getElementById('signin').style.display='block'" style="width:auto;">Login</a>
				  <a href="register.html">Register</a>
				  <a href="about.html">About</a>
				  <a href="contact.html">Contact</a>
				</div>

				<!-- login popup -->

				<div id="signin" class="modal">
				  
				  <form class="modal-content animate" action="/action_page.php" id="signupForm">
				    <div class="imgcontainer">
				      <span onclick="document.getElementById('signin').style.display='none'" class="close" title="Close">&times;</span>
				      <img src="images/login.png" alt="Avatar" class="avatar">
				    </div>

				    <div class="container" id="login-content">
				      <label for="uname"><b>Username</b></label>
				      <input type="text" placeholder="Enter Username" name="uname" required>

				      <label for="psw"><b>Password</b></label>
				      <input type="password" placeholder="Enter Password" name="psw" required>
				        
				      <button type="submit" name="login">Login</button>
				      <label>
				        <input type="checkbox" checked="checked" name="remember"> Remember me
				      </label>
				    </div>

				    <div class="container" style="background-color:#f1f1f1" id="login-content-forget">
				      <button type="button" onclick="document.getElementById('signin').style.display='none'" class="cancelbtn">Cancel</button>
				      <span class="psw">Forgot <a href="#">password?</a></span>
				    </div>
				  </form>
				</div>


				<!-- signup popup -->
				<div id="id01" class="modal">
				  
				  <form class="modal-content animate" action="/action_page.php">
				    <div class="imgcontainer">
				      <span onclick="document.getElementById('id01').style.display='none'" class="close" title="Close Modal">&times;</span>
				      <img src="img_avatar2.png" alt="Avatar" class="avatar">
				    </div>

				    <div class="container">
				      <label for="uname"><b>Username</b></label>
				      <input type="text" placeholder="Enter Username" name="uname" required>

				      <label for="psw"><b>Password</b></label>
				      <input type="password" placeholder="Enter Password" name="psw" required>
				        
				      <button type="submit">Login</button>
				      <label>
				        <input type="checkbox" checked="checked" name="remember"> Remember me
				      </label>
				    </div>

				    <div class="container" style="background-color:#f1f1f1">
				      <button type="button" onclick="document.getElementById('id01').style.display='none'" class="cancelbtn">Cancel</button>
				      <span class="psw">Forgot <a href="#">password?</a></span>
				    </div>
				  </form>
				</div>


		</header><!-- /header -->



		<section id="art-section">
			<div id="article">
				
				<h1>Crack Shadow Hashes After Getting Root on a Linux System </h1>
				<p>After gaining access to a root account, the next order of business is using that power to do something more significant. If the user passwords on the system can be obtained and cracked, an attacker can use them to pivot to other machines if the login is the same across systems. There are two tried-and-true password cracking tools that can accomplish this: John the Ripper and Hashcat.
				</p>
				<h2>Passwd & Shadow File Overview</h2>
				<p>
					A couple files of particular interest on Linux systems are the /etc/passwd and /etc/shadow files. The /etc/passwd file contains basic information about each user account on the system, including the root user which has full administrative rights, system service accounts, and actual users. There are seven fields in each line of /etc/passwd. A typical line looks something like this:

						msfadmin:x:1000:1000:msfadmin,,,:/home/msfadmin:/bin/bash

						The first field is the user's login name. The second field traditionally contained an encrypted password, but nowadays (unless you get extremely lucky) it merely contains the letter "x," to denote that a password has been assigned. If this field is blank, the user does not need to supply a password to log in.

						The third field is the user ID, a unique number assigned to the user, followed by the group ID in the fourth field. The fifth field is typically the full name of the user, although this can also be left blank. The sixth field is the user's home directory, and finally, the seventh field is the default shell, usually set to /bin/bash.

						The /etc/shadow file contains the encrypted passwords of users on the system. While the /etc/passwd file is typically world-readable, the /etc/shadow is only readable by the root account. The shadow file also contains other information such as password expiration dates. A typical line in /etc/shadow will look like this:
										
					</p>
				<iframe width="1013" height="570" src="https://www.youtube.com/embed/ltEFbi_I2KY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen style="width: 100%">
					
				</iframe>
				<h2>Using Nmap for Local Networks</h2>
				<p>
					Running an Nmap scan is often the best way to discover the size of the network and the number of devices that are connected to it. Running a "fast" Nmap scan (-F) on a network range can produce a list of all of the IP addresses belonging to active hosts on the network, plus some extra information.
				</p>
				<img src="images/article1/image1.png" alt="">
				<p>
					The data provided, combined with some basic information about services a device is running, can be used by itself as a list of targets for other hacking tools, but the capabilities of Nmap go far beyond simple host discovery.
                     <br>
                     <br>
					The amount of info on a local network an Nmap scan can gather is impressive, including the MAC address and manufacturer of connected devices, the operating system a device is using, and the version of any services that are running on the device. Once you know how many devices are on the network and roughly what they are, the next step is to scan and examine devices of interest on the network.
                    <br>
                    <br>
					Another key function of Nmap is to allow for port scanning of either individual devices or ranges of IP addresses including many devices. This allows an attacker to learn the minute details of a device they have discovered on a network, including information about ports open and services running. Ports are gateways that another device can connect through, so finding a bunch of services running on open ports can be a huge benefit to a hacker, especially if one of them has a version that is out of date and vulnerable.
				</p>
				<h2>Using Nmap for Remote Networks</h2>
				<p>
				   In addition to scanning local networks, Nmap can also show information about remote networks as well. In fact, you can run Nmap against a website you want to examine, and it will parse it and retrieve the IP address associated with that web domain.
			    </p>
               <img src="images/article1/image2.png" alt="">

               <p>
               	After grabbing the IP address and taking note of the port numbers that are open, further Nmap scans can reveal the operating system (-O) being used to host a remote website.
               </p>
               <img src="images/article1/image3.png" alt="">
               <p>
                  Finally, we can even learn about the versions of software running on the ports we find open. If we see one that is vulnerable to a known attack, this could make our job on the network much easier. Using the IP address we discovered earlier, we can run another scan with -sV that reveals that httpd 2.0 is being used on the target machine.
               </p>

               <img src="images/article1/image4.png" alt="">
               <p>
               	   These details combined — the IP address of a remote website or server, the operating system running on the device, and the version of any application running on open ports we discover — is everything a hacker needs to get started attacking devices on a network.
               </p>
               <h2>What You'll Need</h2>
               <p>
               	    To use Nmap, you'll need a system that supports it. Fortunately, Nmap is cross-platform and works on Windows, Linux, and macOS, and comes preinstalled on many systems. If you don't have it, it's easy to install.
                    <br><br>
                    You'll also need a network to connect to and scan to try these techniques, but be aware that scanning is often seen as a prelude to an attack and may be met with increased scrutiny. What this means is that if you have a job that monitors suspicious behavior, scanning their entire network is  a great way to gain attention.
				</p>
				<h2><strong>Step 1 : </strong>Configure Nmap to Scan a Single Target</h2>
				<p>
					To run a basic scan, we can identify an IP address of interest to run the scan against. One of the most basic but informative scans is to run Nmap, specify a target IP address, and then type -A to enable OS detection, version detection, script scanning, and traceroute.

				</p>
				<img src="images/article1/image5.png" alt="">
				<p>
					Even against a single target, a basic scan can yield a lot of information. Here, we simply ran the scan on the IP address for WonderHowTo.com. This can be run against a device on your local network, like a router, or a remote server, like the one hosting WonderHowTo.com.
				</p>
				<h2><strong>Step 2 : </strong> Calculate the Subnet & Scan a Range to Discover Devices</h2>
  		        <p>
                   In order to identify other devices on a local network, it's useful to calculate the subnet range. This is the range of possible IP addresses given out to devices on a network, and knowing it allows you to scan through all the possible IP addresses a device on the network could have.
                <br><br>
                   A handy tool to do this for you is IPcalc. This tool will take your IP address (which is easy to find by typing ifconfig or ip a in a terminal window) and calculate the subnet range based on it. Doing so will give you a number like "192.168.0.0/24," which specifies a range of IP addresses. In the example below, the subnet is calculated as 127.0.0.0/24.
		
				</p>
				<img src="images/article1/image6.png" alt="">
				<p>
					In order to run a scan including information about the services running on devices we find, we can open a terminal window and type the following command, adding in your network range where I use "172.16.42.0/24" as an example. The scan is a little slow, so you can also use an -F flag instead of the -A to do a faster scan of the most common ports.
				</p>
				<img src="images/article1/image7.png" alt="">
                <p>
                	We're basically running Nmap with no arguments except the -A flag. We should expect to see an output like above, showing discovered devices and the services running on them.
					<br><br>
                    Another handy tool for network discovery is arp-scan, which can sometimes show devices that Nmap misses. We can use Nmap to conduct an ARP scan with the -PR request, which is quite fast and aggressive at bringing back online hosts.
                </p>
                <img src="images/article1/image8.png" alt="">
                <h2><strong>Step 3 : </strong>Create a Target List of Active Hosts</h2>
                <p>
                	Now we can calculate all the possible IP addresses on the local network and discover them either with a -F (fast) scan, by running Nmap with no arguments but the -A flag for a slower scan with more info, or with a -PR scan capable of quickly sweeping a local network for active hosts.
                    <br><br>
                    Finally, if you want to create a TXT file of hosts you discovered, you can use the command seen below to build a list to avoid needing to scan the entire network each time we run a subsequent scan. For instance, to scan for devices with a port 80 open and save them to a list, we can use some Linux tools and the -oG "greppable output" flag to help us cut through the output Nmap provides.
                </p>
                <p>
                	By running nmap -p 80 -oG - 192.168.0.0/24 — with the network range substituted for yours — you can add | awk '/80\/open/ {print $2}' >> port80.txt to output the IP addresses belonging to discovered devices to a TXT file called "port80.txt."
                </p>
                <img src="images/article1/image9.png" alt="">
                <p>
                	Here, the awk command is looking for lines containing the port number and the result "open," with the second string in each line (in this case, the IP address) saved by the cat command to a new file called port80.txt
                </p>
                <h2><strong>Step 4 : </strong>Identify the Operating System on Discovered Devices</h2>
                <p>
                	One of the most helpful things to know about a device we discover on a network is the operating system it's running. Here, we can take the TXT target list we populated in the previous step and run an operating system scan, which requires root privileges. We can use the -O flag to run an operating system scan, and the -iL flag to tell Nmap we want to read from a TXT file of target hosts.
                </p>
                <img src="images/article1/image10.png" alt="">
                <p>
                	This tactic allows us to get as much information as possible about the operating system from whatever list of targets we want to run it against, whether internal network targets or a list of website IP addresses.
                </p>
                <p>
                	The next step is discovering the versions of the applications running on open ports. This may show us a port that is running software that is out of date and has a known vulnerability. To run this scan, you can use the -sV flag against a target.
                </p>
                <img src="images/article1/image11.png" alt="">
                <p>
                    Here, we've found some very specific information about our host, allowing us to potentially identify an attack against the software listening behind the port.
                </p>
                <h2><strong>Step 5 : </strong>Advanced Scans & Workarounds</h2>
                <p>
                	There may be some circumstances where you're having a difficult time scanning a network because the ping sent by Nmap are dropped by a firewall on the router. This can make it look like no devices are up, when you know they are. To avoid this, you can include the -Pn flag, which will drop the ping and sometimes allow you to connect directly to devices and get a response.
                     <br><br>
                    If you're scanning on a network you don't want to be detected on, you can perform a decoy scan with the -D flag to make it more difficult to detect who is conducting the scan on the network. An example would look like the command below, and requires root privileges.
                </p>
                <img src="images/article1/image12.png" alt="">
                <p>
                	If you need more information about what's happening, you can strike a key while the scan is progressing to get some information about how it's proceeding or add a -v to increase the verbosity (how much information the script gives). Generally, you can keep adding more v's to the -v according to how frustrated or angry you get to learn more information about what's happening.
                </p>
                <img src="images/article1/image13.png" alt="">
                <p>
                	Here, we can see the reason reported for the port 80 being up, allowing us to delve deeper into what parts of a scan a device may be replying to or ignoring. Be warned, you will see everything the scan is doing, and this can produce a lot of output on a complicated scan.
                </p>
				<h2> Nmap Lights Up the Dark</h2>
				<p>
				   Finding your way around a network for the first time can be a harrowing experience for a beginner, whether you're learning about network exploitation for the first time or simply trying to find your router.
				</p>
				<p>
				   Keep in mind, while networks scans are fine (and a great idea) to run on your own network to see what's connected, this kind of scan may not be welcome on your work network or another network you don't own. If your employer looks for suspicious behavior on their networks, extensively scanning can be easily interpreted as the threatening behavior if you have no good reason to be performing the scan.
				</p>
				<p>
				   One of the most powerful things about Nmap is that it's scriptable with options like -oG and can be used to feed into other tools, so if you've ever imagined building a tool that needs to be aware of other devices on the same network, Nmap might be just what  you're looking for.
				</p>
			</div>
			

	    </section>

		<aside>
			<!-- newsletter popup -->
				<div id="list-builder"></div>
				<div id="popup-box">
				    <img src="images/close.png" id="popup-close" />
				    <div id="popup-box-content">
				        <h1>Subscribe to our Newsletter </h1>
				        <p>
				            Stay up to date on the latest posts about technology and computer science plus receive exclusive content by
				            subscribing to our newsletter.
				        </p>
				        <form id="popup-form" action="https://email_list_service_api.com">
				            <input type="hidden" name="list" value="key_list_etc" />
				            <input type="text" name="name" placeholder="Full Name" />
				            <input type="text" name="email" placeholder="Email Address" />
				            <button type="button" name="subscribe">Subscribe</button>
				        </form>
				    </div>
				</div>
		</aside>

		<footer>
			
		</footer>
	</div>



</body>
</html>